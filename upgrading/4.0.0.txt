WARNING! Following these upgrade instructions will reset all packages! If you
want to keep the package contents, please create a backup before starting the
upgrade process and import the source tarballs into the Git repositories
afterwards.

1. Add a field for the SSH public key to the Users table:

----
ALTER TABLE Users ADD COLUMN SSHPubKey VARCHAR(4096) NULL DEFAULT NULL;
----

2. Create a new user and configure the sshd as described in INSTALL.

3. Run gen-templates.py to initialize the Git repository template. Create a
directory for the Git repositories and run init-repos.py to initialize them.

4. Reset the packager field of all package bases:

----
UPDATE PackageBases SET PackagerUID = NULL;
----

5. Create a new table for package base co-maintainers:

----
CREATE TABLE PackageComaintainers (
	UsersID INTEGER UNSIGNED NOT NULL,
	PackageBaseID INTEGER UNSIGNED NOT NULL,
	INDEX (UsersID),
	INDEX (PackageBaseID),
	FOREIGN KEY (UsersID) REFERENCES Users(ID) ON DELETE CASCADE,
	FOREIGN KEY (PackageBaseID) REFERENCES PackageBases(ID) ON DELETE CASCADE
) ENGINE = InnoDB;
----

6. (optional) Setup cgit to browse the Git repositories via HTTP.
